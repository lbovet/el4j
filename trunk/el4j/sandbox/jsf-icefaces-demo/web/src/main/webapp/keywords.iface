<html xmlns="http://www.w3.org/1999/xhtml" xmlns:c="http://java.sun.com/jstl/core"
      xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:ice="http://www.icesoft.com/icefaces/component">

<f:view> 
<f:loadBundle var="text" basename="#{keywords.bundleName}"/>
    <head>
        <title><h:outputText value="#{text['keywords.title']}"/></title>
        <meta name="heading" content="#{text['keywords.heading']}"/>
        <meta name="menu" content="KeywordMenu"/>
    </head>
<body id="keywords">

<ice:form id="keywordForm">
	
		<h:commandButton value="#{text['button.add']}" action="#{keywords.add}" id="add" styleClass="button"/>
		<h:commandButton value="#{text['button.done']}" action="mainMenu" id="cancel" 
			styleClass="button" style="margin-left: 5px" immediate="true"/>
		
		
		
		<!--  ICEfaces DataTable -->
		
		
		<ice:panelGroup  styleClass="formBorderHighlight">
		
			<ice:panelTabSet selectedIndex="#{keywords.selectedTab}" tabPlacement="Top" styleClass="icePnlTbSet">
			 		
			 		<!-- Search tab -->
			        <ice:panelTab id="tabSearch" label="#{text['keywords.tab.search']}">
			        	<ice:panelGroup  styleClass="formBorderHighlight">
			        		
			        		<h:outputLabel styleClass="desc" for="searchName" value="#{text['keyword.name']}"/>
			    
			    
						    
						    <h:inputText styleClass="text medium" id="searchName"
						    	 value="#{keywords.searchName}">
						    </h:inputText>
						    
						    
						    <h:outputLabel styleClass="desc" for="searchDescription" 
						    	value="#{text['keyword.description']}"/>
						    
						    
						    <h:inputText styleClass="text medium" id="searchDescription"
						    	 value="#{keywords.searchDescription}">
						    </h:inputText>
			        	
			        		<br/>
			        		<br/>
			        		
			        		<h:commandButton value="#{text['button.search']}" id="search"
			        							action="#{keywords.search}"/>
			        		<!-- <h:commandButton value="#{text['button.reset']}" id="reset"/>-->
			        		
			        		
			        		
			        		<ice:message for="searchName"/>
			        	
			        	</ice:panelGroup>
			        	
			        	<br/>
			        	
			        	<!-- result list -->
			        	<ice:panelGroup styleClass="formBorderHighlight">
			        	
			        		<ice:dataPaginator id="scroll_2"
			                        for="keywords"
			                        rowsCountVar="rowsCount"
			                        displayedRowsCountVar="displayedRowsCountVar"
			                        firstRowIndexVar="firstRowIndex"
			                        lastRowIndexVar="lastRowIndex"
			                        pageCountVar="pageCount"
			                        pageIndexVar="pageIndex"
			                        >
			 
			                 <ice:outputFormat value="#{text['component.dataPaginator.keywords.text']}" styleClass="standard" >
			                        <f:param value="#{rowsCount}" />
			                        <f:param value="#{displayedRowsCountVar}" />
			                        <f:param value="#{firstRowIndex}" />
			                        <f:param value="#{lastRowIndex}" />
			                        <f:param value="#{pageIndex}" />
			                        <f:param value="#{pageCount}" />
			                </ice:outputFormat>
			 
			        		</ice:dataPaginator>
			        	
			        		<ice:dataTable
								id="keywords"
						        var="keyword"
						        value="#{keywords.keywords}"
						        rows="5"
						        sortColumn="#{keywords.sortColumn}"
						        sortAscending="#{keywords.ascending}"
						        styleClass="scrollerTable table"
						    	headerClass="standardTable_Header" 
						    	rowClasses="standardTable_Row1,standardTable_Row2"
						    	columnClasses="standardTable_Column,standardTable_Column,standardTable_Column,standardTable_Column,standardTable_ColumnCentered">
						     
						  
						     
						        <ice:column>
						        		
						        
						                <f:facet name="header">
						                	<ice:commandSortHeader columnName="name"
						                                                       arrow="true"
						                                                       disabled="false">
						                      	<ice:outputText value="#{text['keyword.name']}" />
						                      </ice:commandSortHeader>
						                 </f:facet>
						                
										
						                <!-- <h:commandLink actionListener="#{personList.edit}" value="#{person.id}" immediate="true">
						            		<f:param id="currentId" name="currentId" value="#{person.id}"/>
						        		</h:commandLink>
						        		-->
										
						
										<h:outputText value="#{keyword.name}" />
						               
						        </ice:column>
						  
						        <ice:column>
						       
						                <f:facet name="header">
						                	 <ice:commandSortHeader columnName="description"
						                                                       arrow="true">
						                         <ice:outputText value="#{text['keyword.description']}" />
						                     </ice:commandSortHeader>
						                </f:facet>
						                
						                <ice:outputText value="#{keyword.description}" />
						               
						        </ice:column>
						        
						        <!-- delete and edit column -->
						         <ice:column>
						                <f:facet name="header">
						                 </f:facet>
						                
						                
										<ice:commandButton image="images/icon_delete.gif"
				    										partialSubmit="true"
				    										actionListener="#{keywords.delete}">
				    										
				    						<f:param id="currentId" name="currentId" value="#{keyword.key}"/>
				    					</ice:commandButton>
				    					
				    					<ice:commandButton image="images/icon_edit.gif"
				    										partialSubmit="true"
				    										actionListener="#{keywords.edit}">
                             					<f:param id="currentId" name="currentId" value="#{keyword.key}"/>
                             			</ice:commandButton>	
						               
						        </ice:column>
						 
							</ice:dataTable>
							
							<!-- Set up the buttons and links for browsing through the table
							No. of pages to fast forward or rewind: 3
							No. of direct links to pages: 4 -->
							<ice:dataPaginator id="dataScroll_1"
												styleClass="formBorderHighlight"
							                   for="keywords" fastStep="3"
							                   pageCountVar="pageCount" pageIndexVar="pageIndex"
							                   paginator="true"
							                   paginatorMaxPages="999"
							                   rendered="true">
							    <f:facet name="first">
							        <!-- <ice:graphicImage id="firstpage_1"
							                url="xmlhttp/css/xp/css-images/arrow-first.gif"
							                style="border:none;"
							                title="#{text['component.dataPaginator.firstpage']}"/>-->
							                <t:graphicImage url="/images/arrow-first.gif"/>
							    </f:facet>
							    <f:facet name="last">
							        <ice:graphicImage id="lastpage_1"
							                url="xmlhttp/css/xp/css-images/arrow-last.gif"
							                style="border:none;"
							                title="#{text['component.dataPaginator.lastpage']}"/>
							    </f:facet>
							    <f:facet name="previous">
							        <ice:graphicImage id="previouspage_1"
							                url="xmlhttp/css/xp/css-images/arrow-previous.gif"
							                style="border:none;"
							                title="#{text['component.dataPaginator.previouspage']}"/>
							    </f:facet>
							    <f:facet name="next">
							        <ice:graphicImage id="nextpage_1"
							                url="xmlhttp/css/xp/css-images/arrow-next.gif"
							                style="border:none;"
							                title="#{text['component.dataPaginator.nextpage']}"/>
							    </f:facet>
							    <f:facet name="fastforward">
							        <ice:graphicImage id="fastforward_1"
							                          url="xmlhttp/css/xp/css-images/arrow-ff.gif"
							                          style="border:none;"
							                          title="#{text['component.dataPaginator.fastforward']}"/>
							    </f:facet>
							    <f:facet name="fastrewind">
							        <ice:graphicImage id="fastrewind_1"
							                          url="xmlhttp/css/xp/css-images/arrow-fr.gif"
							                          style="border:none;"
							                          title="#{text['component.dataPaginator.fastbackward']}"/>
							    </f:facet>
							</ice:dataPaginator>
			        	
			        	</ice:panelGroup>
		
			        	        
			                
			                
			        </ice:panelTab>
			 
			 <!-- Create/Edit Tab -->
			        <ice:panelTab id="tabDetail" label="#{keywords.detailCaption}" rendered="#{keywords.selectedTab == 1}">
			                
			                
			                <h:outputLabel styleClass="desc" for="name" value="#{text['keyword.name']}"/>
			    
			    
						    <ice:message for="name" styleClass="fieldError" style="color: red;"/>
						    <ice:inputText styleClass="text medium" id="name"
						    	 value="#{keywords.currentKeyword.name}" required="true">
						    </ice:inputText>
						    
						    
						    <h:outputLabel styleClass="desc" for="description" 
						    	value="#{text['keyword.description']}"/>
						    
						    <ice:message for="description" styleClass="fieldError" style="color: red;"/>
						    
						    <h:inputText styleClass="text medium" id="description"
						    	 value="#{keywords.currentKeyword.description}">
						    </h:inputText>
						    
						    <br/>
						    <br/>
			                
			                <h:panelGroup styleClass="buttonBar bottom">
						        <h:commandButton value="#{text['button.save']}" action="#{keywords.save}" 
						        	id="save" styleClass="button"/>
						
								<!--
						        <c:if test="$(keywords.currentKeyword.key != null}">
						        
						        <h:commandButton value="#{text['button.delete']}" action="#{keywords.delete}"
						            id="delete" styleClass="button" immediate="true"/>
						        </c:if>
						        -->
						
						        <h:commandButton value="#{text['button.cancel']}" action="#{keywords.cancelDetail}" immediate="true"
					            	id="cancel" styleClass="button"/>
					            
					    	</h:panelGroup>
			                
			        </ice:panelTab>
			 
			        
			 
			</ice:panelTabSet>
		
		
		</ice:panelGroup>
		
	</ice:form>

</body>


</f:view>
</html>