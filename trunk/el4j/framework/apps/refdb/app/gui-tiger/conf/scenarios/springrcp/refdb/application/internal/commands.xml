<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" 
    "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>
    <!-- 
        Contains the shared command ids. These commands stick in toolbars, menus
        and so on but can have a different behaviours on views. I.e. in  
        view for "a" beans, id "deleteCommand" will delete "a" beans and in view
        for "b" beans it will delete "b" beans.
        
        This bean with id "windowCommandManager" is looked up by the 
        class DefaultApplicationLifecycleAdvisor.
    -->
    <bean id="windowCommandManager" 
        class="org.springframework.richclient.application.support.ApplicationWindowCommandManager">
        <property name="sharedCommandIds">
            <list>
                <value>selectAllBeansCommand</value>
                <value>propertiesCommand</value>
                <value>deleteCommand</value>
                <value>createCommand</value>
            </list>
        </property>
    </bean>
    
    <!-- 
        Is the application's menu bar
        
        This bean with id "menuBar" is looked up by the 
        class DefaultApplicationLifecycleAdvisor.
    -->
    <bean id="menuBar" 
        class="org.springframework.richclient.command.CommandGroupFactoryBean">
        <property name="members">
            <list>
                <ref bean="fileMenu"/>
                <ref bean="editMenu"/>
                <ref bean="windowMenu"/>
                <ref bean="helpMenu"/>
            </list>
        </property>
    </bean>
    
    <!-- 
        Is the application's tool bar
        
        This bean with id "toolBar" is looked up by the 
        class DefaultApplicationLifecycleAdvisor.
    -->
    <bean id="toolBar" 
        class="org.springframework.richclient.command.CommandGroupFactoryBean">
        <property name="members">
            <list>
				<value>createCommand</value>
                <value>propertiesCommand</value>
                <value>deleteCommand</value>
                <value>separator</value>
                <ref bean="refreshCommand"/>
            </list>
        </property>
    </bean>
    
    <bean id="fileMenu" 
        class="org.springframework.richclient.command.CommandGroupFactoryBean">
        <property name="members">
            <list>
                <ref bean="refreshCommand"/>
                <value>separator</value>
                <bean class="org.springframework.richclient.command.support.ExitCommand"/>
            </list>
        </property>
    </bean>

    <bean id="editMenu" 
        class="org.springframework.richclient.command.CommandGroupFactoryBean">
        <property name="members">
            <list>
                <value>selectAllBeansCommand</value>
                <value>separator</value>
                <value>createCommand</value>
                <value>separator</value>
                <value>propertiesCommand</value>
                <value>separator</value>
                <value>deleteCommand</value>
            </list>
        </property>
    </bean>

    <bean id="windowMenu" 
        class="org.springframework.richclient.command.CommandGroupFactoryBean">
        <property name="members">
            <list>
                <bean class="org.springframework.richclient.command.support.NewWindowCommand"/>
                <value>separator</value>
                <bean class="ch.elca.el4j.services.gui.richclient.commands.ShowPageMenu"/>
                <value>separator</value>
                <bean class="org.springframework.richclient.command.support.ShowViewMenu"/>
            </list>
        </property>
    </bean>

    <bean id="helpMenu" 
        class="org.springframework.richclient.command.CommandGroupFactoryBean">
        <property name="members">
            <list>
                <ref bean="helpContentsCommand"/>
                <value>separator</value>
                <ref bean="aboutCommand"/>
            </list>
        </property>
    </bean>
    
    <bean id="refreshCommand"
    	class="ch.elca.el4j.services.gui.richclient.commands.RepositoryRefreshCommand">
    	<constructor-arg><ref bean="repoAgency"/></constructor-arg>
  	</bean>
    
    <bean id="helpContentsCommand" 
        class="org.springframework.richclient.command.support.HelpContentsCommand"/>
        
    <bean id="aboutCommand" 
        class="org.springframework.richclient.command.support.AboutCommand">
        <property name="aboutTextPath">
            <value>scenarios/springrcp/refdb/etc/about.html</value>
        </property>
    </bean>
</beans>