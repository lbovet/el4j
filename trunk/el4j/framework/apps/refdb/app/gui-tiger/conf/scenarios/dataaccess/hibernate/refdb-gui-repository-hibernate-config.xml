<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" 
    "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>
    <!-- $Version$ -->
    <!-- $URL$ -->
    <!-- $Date$ -->
    <!-- $Author$ -->
    
    <!-- Property merge configurer for the refdb application's SessionFactory
    	properties-->
    <bean id="refdbCoreDataaccessHibernatePropertyConfigurer" 
        class="ch.elca.el4j.core.config.ListPropertyMergeConfigurer">
        <property name="location">
            <value>classpath:scenarios/dataaccess/hibernate/refdbCoreSessionFactory.properties</value>
        </property>
    </bean>

	<bean id="keywordRepo"
		class="ch.elca.el4j.services.persistence.dao.GenericHibernateRepository">
    	<property name="persistentClass"><value>ch.elca.el4j.apps.lightrefdb.dom.Keyword</value></property>
    	<property name="sessionFactory"><ref bean="sessionFactory"/></property>
    </bean>
    
	<bean id="referenceRepo"
		class="ch.elca.el4j.services.persistence.dao.GenericHibernateRepository">
    	<property name="persistentClass"><value>ch.elca.el4j.apps.lightrefdb.dom.Reference</value></property>
    	<property name="sessionFactory"><ref bean="sessionFactory"/></property>
    </bean>
    
	<bean id="repoRegistry"
    	class="ch.elca.el4j.services.persistence.dao.HibernateRepositoryRegistry">
    	
    	<property name="sessionFactory"><ref bean="sessionFactory"/></property>
    	<property name="repos">
    		<list>
    			<ref bean="keywordRepo"/>
    			<ref bean="referenceRepo"/>
       		</list>
    	</property>
    </bean>
    
    <bean id="identityFixer"
    	class="ch.elca.el4j.services.persistence.hibernate.HibernateProxyAwareIdentityFixer"/>    	
</beans>