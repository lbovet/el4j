<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" 
	"http://www.springframework.org/dtd/spring-beans.dtd">

<beans>
    <!-- Version: $Revision$ -->
    <!-- Source: $Source$ -->
    <!-- Date: $Date$ -->
    <!-- Author: $Author$ -->

    <!-- 
        Place where application objects will be configured. The bean with id 
        "applicationObjectConfigurer" is looked up by the application services
        class.
    -->
    <bean id="applicationObjectConfigurer"
        class="org.springframework.richclient.application.config.DefaultApplicationObjectConfigurer">
        <constructor-arg index="0">
            <ref bean="messageSource" />
        </constructor-arg>
        <constructor-arg index="1">
            <ref bean="imageSource" />
        </constructor-arg>
        <constructor-arg index="2">
            <ref bean="iconSource" />
        </constructor-arg>
    </bean>

    <!-- 
        Where components are created and can receive all needed stuff. The bean 
        with id "componentFactory" is looked up by the application services 
        class.
    -->
    <bean id="componentFactory"
        class="org.springframework.richclient.factory.DefaultComponentFactory">
        <property name="iconSource">
            <ref bean="iconSource" />
        </property>
        <property name="messageSource">
            <ref bean="messageSource" />
        </property>
    </bean>

    <!-- 
        Intercepts displayed components (i.e. for highlighting a component on a
        validation error). The bean with id "formComponentInterceptorFactory" 
        is looked up by the application services class.
    -->
    <bean id="formComponentInterceptorFactory"
        class="org.springframework.richclient.form.builder.support.ChainedInterceptorFactory">
        <property name="interceptorFactories">
            <list>
                <bean id="componentOverlayValidationInterceptorFactory"
                    class="org.springframework.richclient.form.builder.support.OverlayValidationInterceptorFactory" />
                <bean id="componentTextComponentPopupInterceptorFactory"
                    class="org.springframework.richclient.text.TextComponentPopupInterceptorFactory" />
                <bean id="componentColorValidationInterceptorFactory"
                    class="ch.elca.el4j.services.gui.richclient.interceptor.ColorValidationInterceptorFactory">
                    <property name="errorColor">
                        <value>255,245,245</value>
                    </property>
                </bean>
                <bean id="componentComboBoxAutoCompletionInterceptorFactory"
                    class="org.springframework.richclient.list.ComboBoxAutoCompletionInterceptorFactory">
                    <property name="messageSource">
                        <ref bean="messageSource" />
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <!--
        Fetches names, labels, captions and descriptions displayed by components
        from message source. The bean with id "formPropertyFaceDescriptorSource" 
        is looked up by the application services class.
    -->
    <bean id="formPropertyFaceDescriptorSource"
        class="org.springframework.binding.form.support.MessageSourceFormPropertyFaceDescriptorSource" />
</beans>
