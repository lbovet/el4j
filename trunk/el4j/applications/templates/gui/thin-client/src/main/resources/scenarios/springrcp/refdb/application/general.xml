<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">

    <!-- $Revision$ -->
    <!-- $URL$ -->
    <!-- $Date$ -->
    <!-- $Author$ -->
    
    <!-- Application general parts. -->
    <import resource="classpath:scenarios/springrcp/application/applicationGeneral.xml"/>
    <!-- Are the message, image and icon sources. -->
    <import resource="classpath:scenarios/springrcp/application/imageIconMessageSources.xml"/>
    <!-- Are some services for the application. -->
    <import resource="classpath:scenarios/springrcp/application/applicationServices.xml"/>
    <!-- Are helpers and factories to create and manage components. -->
    <import resource="classpath:scenarios/springrcp/application/applicationComponentParts.xml"/>
    <!-- Are binders for gui components with data models. -->
    <import resource="classpath:scenarios/springrcp/application/componentBinders.xml"/>
    
    <!-- Default MessageProvider -->
    <bean class="ch.elca.el4j.services.i18n.OldStyleMessageProvider">
        <constructor-arg><ref bean="messageSource"/></constructor-arg>
        <property name="asDefault"><value>true</value></property>
    </bean>
    
    
    <!-- Property overrider for general purpose. -->
    <bean id="refdbGuiSpringrcpPropertyOverrideConfigurer"
        class="org.springframework.beans.factory.config.PropertyOverrideConfigurer">
        <property name="location"
            value="classpath:scenarios/springrcp/refdb/application/property-override-configurer.properties"/>
    </bean>
    
    
    <!-- List property merger. Appends given values to existing values. -->
    <bean id="refdbGuiSpringrcpListPropertyMergeConfigurerAfter"
        class="ch.elca.el4j.core.config.ListPropertyMergeConfigurer">
        <property name="location"
            value="classpath:scenarios/springrcp/refdb/application/property-merge-configurer-after.properties"/>
        <property name="insertNewItemsAfter" value="true"/>
    </bean>


    <!-- List property merger. Prepends given values to existing values. -->
    <bean id="refdbGuiSpringrcpListPropertyMergeConfigurerBefore"
        class="ch.elca.el4j.core.config.ListPropertyMergeConfigurer">
        <property name="location"
            value="classpath:scenarios/springrcp/refdb/application/property-merge-configurer-before.properties"/>
        <property name="insertNewItemsBefore" value="true"/>
    </bean>


    <!-- 
        Validation rules for input data. Used in all forms. The bean with id 
        "rulesSource" is looked up by the application services class.
    -->
    <bean id="rulesSource"
        class="ch.elca.el4j.apps.refdb.rules.RefdbValidationRulesSource" />
</beans>
