<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sqlMap
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="keyword-core">
    <!-- Version: $Revision: 1860 $ -->
    <!-- URL: $URL: https://el4j.svn.sourceforge.net/svnroot/el4j/trunk/el4j/applications/templates/common/keyword/dao/src/main/resources/etc/ibatis/oracle/table-keyword.xml $ -->
    <!-- Date: $Date: 2007-07-22 22:37:17 +0200 (Sun, 22 Jul 2007) $ -->
    <!-- Author: $Author: poser55 $ -->

    <insert id="insertKeyword">
        insert into KEYWORDS (NAME, DESCRIPTION,
            OPTIMISTICLOCKINGVERSION) values (#name#,
            #description#, #optimisticLockingVersion#)
        <selectKey resultClass="int" keyProperty="key">
            SELECT LAST_INSERT_ID();
        </selectKey>	    
    </insert>

    <update id="updateKeyword">
        update KEYWORDS set NAME=#name#, DESCRIPTION=#description#,
            OPTIMISTICLOCKINGVERSION=OPTIMISTICLOCKINGVERSION+1 where
            KEYID=#key# AND OPTIMISTICLOCKINGVERSION=#optimisticLockingVersion#
    </update>
</sqlMap>
