<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:context="http://www.springframework.org/schema/context"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">

    <!-- $Revision$ -->
    <!-- $URL$ -->
    <!-- $Date$ -->
    <!-- $Author$ -->

	<!--
	*********************************************************************************
	  Generic master/detail view beans:
	*********************************************************************************
	-->
    <bean id="conflicts" class="ch.elca.el4j.seam.generic.Temporary" />
 
	<!-- Shortname mapping: bijective mapping between entity shortnames and class names -->
	<bean id="shortNameMapping" class="ch.elca.el4j.seam.generic.EntityShortNameMapping">
		<property name="entityShortNames">
			<map>
				<entry key="ch.elca.el4j.apps.keyword.dom.Keyword">
					<value>keyword</value>
				</entry>
			</map>
		</property>
		<!-- The package to use when guessing -->
		<property name="defaultEntityPackage" value="ch.elca.el4j.seam.demo.entities"/>
	</bean>
	
	<!-- Entity info base: provides (mostly metadata related) info about entities -->
	<bean id="entityInfoBase" class="ch.elca.el4j.seam.generic.metadata.EntityInfoBase">
		<property name="sessionFactory" ref="hibernateSessionFactory"/>
	</bean>

	<!-- Field lists: computes field/column lists (metadata & given in/exclusion lists) -->
	<bean id="fieldLists" class="ch.elca.el4j.seam.generic.metadata.FieldLists">
		<property name="sessionFactory" ref="hibernateSessionFactory"/>
		<property name="shortNameMapping" ref="shortNameMapping"/>
	</bean>
	
	<!-- The essential utils bean: The heart of all generic master/detail views -->
	<bean id="utils" class="ch.elca.el4j.seam.generic.ElUtils">
		<property name="shortNameMapping" ref="shortNameMapping"/>
		<property name="entityInfoBase" ref="entityInfoBase"/>
		<property name="fieldLists" ref="fieldLists"/>
	</bean>
</beans>
