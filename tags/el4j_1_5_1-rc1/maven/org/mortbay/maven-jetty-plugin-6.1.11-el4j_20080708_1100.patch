Index: pom.xml
===================================================================
--- pom.xml	(revision 3174)
+++ pom.xml	(working copy)
@@ -8,6 +8,7 @@
   <modelVersion>4.0.0</modelVersion>
   <groupId>org.mortbay.jetty</groupId>
   <artifactId>maven-jetty-plugin</artifactId>
+  <version>6.1.11-el4j_20080708_1100</version>
   <packaging>maven-plugin</packaging>
   <name>Maven Jetty Plugin</name>
   <developers>
@@ -33,7 +34,7 @@
     <dependency>
       <groupId>org.mortbay.jetty</groupId>
       <artifactId>jetty</artifactId>
-      <version>${project.version}</version>
+      <version>6.1.11</version>
     </dependency>
     <dependency>
       <groupId>org.apache.maven</groupId>
@@ -57,17 +58,17 @@
     <dependency>
       <groupId>org.mortbay.jetty</groupId>
       <artifactId>jetty-plus</artifactId>
-      <version>${project.version}</version>
+      <version>6.1.11</version>
     </dependency>
     <dependency>
       <groupId>org.mortbay.jetty</groupId>
       <artifactId>jetty-naming</artifactId>
-      <version>${project.version}</version>
+      <version>6.1.11</version>
     </dependency>
     <dependency>
       <groupId>org.mortbay.jetty</groupId>
       <artifactId>jetty-management</artifactId>
-      <version>${project.version}</version>
+      <version>6.1.11</version>
     </dependency>
   </dependencies>
   <!-- reporting>
@@ -98,7 +99,7 @@
         <dependency>
           <groupId>org.mortbay.jetty</groupId>
           <artifactId>jsp-2.0</artifactId>
-          <version>${project.version}</version>
+          <version>6.1.11</version>
           <type>pom</type>
         </dependency>
       </dependencies>
@@ -113,7 +114,7 @@
         <dependency>
           <groupId>org.mortbay.jetty</groupId>
           <artifactId>jsp-2.0</artifactId>
-          <version>${project.version}</version>
+          <version>6.1.11</version>
           <type>pom</type>
           <exclusions>
             <exclusion>
@@ -138,17 +139,17 @@
         <dependency>
           <groupId>org.mortbay.jetty</groupId>
           <artifactId>jsp-2.1</artifactId>
-          <version>${project.version}</version>
+          <version>6.1.11</version>
         </dependency>
         <dependency>
           <groupId>org.mortbay.jetty</groupId>
           <artifactId>jetty-annotations</artifactId>
-          <version>${project.version}</version>
+          <version>6.1.11</version>
         </dependency>
         <dependency>
           <groupId>org.mortbay.jetty</groupId>
           <artifactId>start</artifactId>
-          <version>${project.version}</version>
+          <version>6.1.11</version>
         </dependency>        
       </dependencies>
     </profile>
Index: src/main/java/org/mortbay/jetty/plugin/AbstractJettyRunMojo.java
===================================================================
--- src/main/java/org/mortbay/jetty/plugin/AbstractJettyRunMojo.java	(revision 3174)
+++ src/main/java/org/mortbay/jetty/plugin/AbstractJettyRunMojo.java	(working copy)
@@ -72,8 +72,15 @@
      */
     private File classesDirectory;
     
+    /**
+     * ArtifactIds of dependencies that should not be included into classpath.
+     * 
+     * @parameter
+     */
+    private List excludedArtifacts;
     
     
+    
     /**
      * The directory containing generated test classes.
      * 
@@ -147,6 +154,11 @@
     {
         return this.classesDirectory;
     }
+    
+    public List getExcludedArtifacts() {
+    	
+		return this.excludedArtifacts;
+	}
 
     public File getWebAppSourceDirectory()
     {
@@ -427,13 +439,19 @@
         for ( Iterator iter = getProject().getArtifacts().iterator(); iter.hasNext(); )
         {
             Artifact artifact = (Artifact) iter.next();
-            // Include runtime and compile time libraries, and possibly test libs too
-            if (((!Artifact.SCOPE_PROVIDED.equals(artifact.getScope())) && (!Artifact.SCOPE_TEST.equals( artifact.getScope()))) 
-                    ||
-                (useTestClasspath && Artifact.SCOPE_TEST.equals( artifact.getScope())))
-            {
-                dependencyFiles.add(artifact.getFile());
-                getLog().debug( "Adding artifact " + artifact.getFile().getName() + " for WEB-INF/lib " );   
+            
+            //if artifact is on exclusion list, skip it
+            if (!this.getExcludedArtifacts().contains(artifact.toString())) {
+	            // Include runtime and compile time libraries, and possibly test libs too
+	            if (((!Artifact.SCOPE_PROVIDED.equals(artifact.getScope())) && (!Artifact.SCOPE_TEST.equals( artifact.getScope()))) 
+	                    ||
+	                (useTestClasspath && Artifact.SCOPE_TEST.equals( artifact.getScope())))
+	            {
+	                dependencyFiles.add(artifact.getFile());
+	                getLog().debug( "Adding artifact " + artifact.getFile().getName() + " for WEB-INF/lib " );   
+	            }
+            } else {
+            	getLog().debug("Excluding artifact " + artifact.getId());
             }
         }
         return dependencyFiles; 
